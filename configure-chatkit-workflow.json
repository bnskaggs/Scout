{
  "workflow_id": "wf_68e52b9ed8508190951977f6ef7c751001daca3df9a03084",
  "tool_configuration": {
    "name": "truesight_query",
    "description": "Run a natural-language analytics query against the TrueSight backend and return structured results.",
    "type": "function",
    "function": {
      "name": "truesight_query",
      "description": "Run a natural-language analytics query against the TrueSight backend and return structured results. Use this tool whenever the user asks an analytics question about incidents, crime data, or any data analysis request.",
      "parameters": {
        "type": "object",
        "properties": {
          "utterance": {
            "type": "string",
            "description": "The user's analytics question or request in plain English (e.g., 'Show me incidents by area last year', 'What were the total incidents in March?')"
          },
          "session_id": {
            "type": "string",
            "description": "Optional session or thread ID for context continuity. You can pass the ChatKit thread_id here."
          }
        },
        "required": ["utterance"],
        "additionalProperties": false
      }
    },
    "endpoint": {
      "url": "https://0af087bbcd0b.ngrok-free.app/api/tools/truesight-query",
      "method": "POST",
      "headers": {
        "Content-Type": "application/json"
      }
    }
  },
  "instructions": "When the user asks an analytics or data question, use the truesight_query tool. Pass their exact question as the 'utterance' parameter. The tool will return structured results including a table, chart specification, and SQL query. Present the answer and key findings to the user in a clear, conversational way."
}
